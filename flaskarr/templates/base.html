{% if request.path|replace("/", "") == '' %}
  {% set active_page = 'index' %}
{% else %}
  {% set active_page = request.path|replace("/", "") %}
{% endif %}

{% macro render_pagination(pagination, endpoint) %}
  <hr>
  <div class="d-flex">
    <div class="page-items">
      {{ pagination.first }} - {{ pagination.last }} of {{ pagination.total }}
    </div>
    <ul class="pagination mx-auto">
      {% if pagination.has_prev %}
        <li class="page-item"><a class="page-link" href="{{ url_for(endpoint, page=pagination.prev_num) }}">Previous</a></l1>  
      {% else %}
        <li class="page-item disabled"><a class="page-link" href="#">Previous</a></l1>
      {% endif %}
      {% for page in pagination.iter_pages() %}
        {% if page %}
          {% if page != pagination.page %}
            <li class="page-item"><a class="page-link" href="{{ url_for(endpoint, page=page) }}">{{ page }}</a></li>
          {% else %}
            <li class="page-item active"><a class="page-link" href="#">{{ page }}</a></li>
          {% endif %}
        {% else %}
          <li class="page-item disabled"><a class="page-link" href="#">â€¦</a></li>
        {% endif %}
      {% endfor %}
      {% if pagination.has_next %}
        <li class="page-item"><a class="page-link" href="{{ url_for(endpoint, page=pagination.next_num) }}">Next</a></l1>  
      {% else %}
        <li class="page-item disabled"><a class="page-link" href="#">Next</a></l1>
      {% endif %}
    </ul>
    <div class="invisible">
      {{ pagination.first }} - {{ pagination.last }} of {{ pagination.total }}
    </div>
  </div>
{% endmacro %}

<!doctype html>
<html lang="en" data-bs-theme="dark">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <!--
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">

    <link href="{{ url_for('static', filename='css/base.css') }}" rel="stylesheet">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@900&display=swap" rel="stylesheet">

    <title>{% block title %} {% endblock %}</title>
  </head>
  <body>
    <div class="h-100 d-flex flex-column">
      <nav class="navbar navbar-expand-lg navbar-dark bg-primary sticky-top navbarr">
        <a class="navbar-brand p-0 me-0 me-sm-2" href="{{ url_for('index')}}">
          <svg viewBox="0 0 90 90" fill="none" role="img" xmlns="http://www.w3.org/2000/svg" width="32" height="32">
            <mask id="mask__ring" maskUnits="userSpaceOnUse" x="0" y="0" width="90" height="90">
                <rect width="90" height="90" rx="180" fill="#FFFFFF"></rect>
            </mask>
            <g mask="url(#mask__ring)">
                <path d="M0 0h90v45H0z" fill="#f9f2e7"></path>
                <path d="M0 45h90v45H0z" fill="#aee239"></path>
                <path d="M83 45a38 38 0 00-76 0h76z" fill="#aee239"></path>
                <path d="M83 45a38 38 0 01-76 0h76z" fill="#8fbe00"></path>
                <path d="M77 45a32 32 0 10-64 0h64z" fill="#8fbe00"></path>
                <path d="M77 45a32 32 0 11-64 0h64z" fill="#00a8c6"></path>
                <path d="M71 45a26 26 0 00-52 0h52z" fill="#00a8c6"></path>
                <path d="M71 45a26 26 0 01-52 0h52z" fill="#f9f2e7"></path>
                <circle cx="45" cy="45" r="23" fill="#40c0cb"></circle>
            </g>
          </svg>
        </a>
        <div class="navbar-text-brand">Syncarr</div>
      </nav>
      <div class="container-fluid d-flex flex-fill">
        <div class="row flex-fill bg-body">
          <div class="sidebar col-2 d-flex flex-column">
            <nav class="nav h-100">
              <ul class="navbar-nav flex-column">
                {% for page, name in config.get('NAV_PAGES').items() %}
                  <li class="nav-item">
                    <a class="nav-link py-2 px-0 px-sm-2 {% if active_page == page %} active{% endif %}" href="{{ url_for('home.' + page)}}">{{ name }}</a>
                  </li>
                {% endfor %}
              </ul>
            </nav>
          </div>
          <main class="content col-10">
            {% block content %} {% endblock %}
            <div id="toast-container" class="toast-container position-fixed bottom-0 end-0 p-3 me-3">
            </div>
          </main>
        </div>
      </div>
    </div>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script>$SCRIPT_ROOT = {{ request.script_root|tojson }};</script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js" integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <script src="https://cdn.socket.io/4.5.4/socket.io.js" crossorigin="anonymous"></script>
    <script src="{{ url_for('static', filename='base.js') }}"></script>
    {% block script_block %}{% endblock %}
  </body>
</html>